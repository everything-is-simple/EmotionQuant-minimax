# 别再闭门打磨文档了（修订版）：对标开源A股量化项目的差距批判与小步整改

**定位**：硬话版、执行版。只动工程落地层，不动你已校正完成的核心设计、核心算法、CP 技能包。

---

## 0. 先锁死边界：核心一字不动

本稿所有建议都遵守以下冻结区：

1. 不改 `情绪优先` 主逻辑。
2. 不改 `MSS/IRS/PAS + Validation` 核心语义。
3. 不改 `Spiral + CP（CP-01~CP-10）` 主路线。

只改三层：`运行入口`、`生态适配`、`证据产物`。

---

## 1. 和上一版（R32）的异同

**相同点**：

- 都坚持“核心不动，只补执行层”。
- 都聚焦“个人开发、个人使用”的 A 股开源对标。
- 都给出“小步改造、快速见效”的整改清单。

**不同点（本次修订）**：

- 格式改成你指定的“开喷式短刀结构”：`对标 -> 问题 -> 一小步整改`。
- 语气更直接，删掉过多评测报告口吻。
- 文件名改为中文，和现有报告风格统一。
- 用更强的“立即可落地动作”替代泛化建议。

---

## 2. 对标对象（有源码 + GitHub 可核验活跃）

本次只选“能 clone、能看源码、近期仍有活跃信号”的项目：

- `vn.py`（交易执行生态强，发布与社区协作持续）
- `RQAlpha`（回测入口和扩展机制清晰）
- `AKShare`（数据接入标准件，安装即取数）
- `QUANTAXIS`（全栈覆盖广，平台化能力强）
- `czsc`（信号表达强，策略研究效率高）
- `easytrader`（券商自动化最后一公里实用）

一句话：**别人赢在“先跑起来”，你们赢在“原则和架构更干净”。现在该把后者变成前者。**

---

## 3. 开喷：EmotionQuant 现在输在哪里

### 3.1 对标 `RQAlpha`：你缺“开箱即跑”入口

问题：文档完整，但新用户拿到仓库后没有“3 条命令看到结果”的最低门槛体验。  
一小步整改：增加统一入口 `eq run --date 20260131`，先打通 S0（L1->L4）最小闭环。

### 3.2 对标 `AKShare`：你缺“标准件数据适配”

问题：数据策略正确（本地优先）但实操入口不够平滑，补采路径未形成默认脚手架。  
一小步整改：新增 `data_adapter_akshare.py`，只实现最小字段集（OHLCV + trade_calendar），严格“先落地再入主流程”。

### 3.3 对标 `vn.py/easytrader`：你缺“执行桥接薄层”

问题：从推荐到下单还没有低摩擦适配壳，导致系统停在“研究闭环”，没到“执行闭环”。  
一小步整改：新增 `trading_adapters/` 接口壳：`submit_order/cancel_order/query_position`，先 mock + paper，真实通道后挂。

### 3.4 对标 `QUANTAXIS`：你缺“可见产物面板”

问题：你有严谨设计，但没有持续可见的 L4 产物页，外部感知是“看不见成果”。  
一小步整改：固定三张报告视图：`温度曲线`、`推荐列表`、`行业权重`，每日自动导出 Markdown/Plotly 产物。

### 3.5 对标 `czsc`：你缺“基准对照证据”

问题：你强调情绪优先是对的，但缺固定 benchmark 来证明“比技术单指标更优/更稳”。  
一小步整改：固化 A/B/C 三组回测：
- A：技术指标基线（仅对照）
- B：情绪主信号
- C：情绪 + Validation Gate
统一输出：夏普、回撤、换手、胜率、交易次数。

### 3.6 对标所有成熟项目：你缺“失败可复盘机制”

问题：失败时若没有统一错误产物，个人项目会快速陷入“坏了但不知道坏在哪”。  
一小步整改：关键步骤失败也强制产出 `error_manifest.json` + `last_input_snapshot`。

---

## 4. 只迈一小步，就能前进一大步（8 条落地清单）

1. 做 `eq run` 一键最小闭环（S0 级）。
2. 增 `AKShare` 最小数据适配器（只做 L1 必需字段）。
3. 建 `RQAlpha`/通用回测输入桥（L3 推荐映射回测输入）。
4. 建 `vn.py/easytrader` 薄执行适配壳（先 mock/paper）。
5. 固化 A/B/C 回测基准看板（情绪优先的证据板）。
6. 增失败产物协议（error manifest + 输入快照）。
7. 补 10 天小样本回归包（保证“今天跑通，明天还能复现”）。
8. 把 CP 变成脚本模板（run/test/artifact/review/sync 占位脚手架）。

这些动作不碰核心逻辑，但会显著缩短“设计 -> 可运行 -> 可证明”的距离。

---

## 5. 结语（狠话版）

你们现在最不该做的事，是继续打磨核心设计。  
你们现在最该做的事，是把“已正确的核心”变成“今天就能跑的闭环证据”。

**核心别动，执行补齐。**  
做到这点，EmotionQuant 的竞争力会从“理念领先”升级为“理念和交付同时领先”。

---

## 参考链接（可核验）

- https://github.com/vnpy/vnpy
- https://github.com/ricequant/rqalpha
- https://github.com/akfamily/akshare
- https://github.com/yutiansut/QUANTAXIS
- https://github.com/waditu/czsc
- https://github.com/shidenggui/easytrader
