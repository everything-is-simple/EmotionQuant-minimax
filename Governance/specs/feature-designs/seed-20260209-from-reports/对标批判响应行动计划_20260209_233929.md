# EmotionQuant å¯¹æ ‡æ‰¹åˆ¤å“åº”è¡ŒåŠ¨è®¡åˆ’

**æŠ¥å‘Šç±»å‹**: æ‰§è¡Œè·¯çº¿å›¾  
**ç”Ÿæˆæ—¶é—´**: 2026-02-09 23:39:29  
**ç”Ÿæˆæ¨¡å‹**: Claude (Anthropic)  
**è¾“å…¥ä¾æ®**: `.reports/å¯¹æ ‡å¼€æºAè‚¡é‡åŒ–ç³»ç»Ÿæ‰¹åˆ¤_ä¿®è®¢ç‰ˆ_20260209.md` + `.reports/å¯¹æ ‡å¼€æºAè‚¡é‡åŒ–ç³»ç»Ÿæ‰¹åˆ¤_20260209_150147.md`  
**é€‚ç”¨èŒƒå›´**: EmotionQuant Spiral S0-S4 æ‰§è¡ŒæœŸ

---

## 0. æ‰§è¡Œå£°æ˜

### 0.1 æ ¸å¿ƒä¸åŠ¨æ‰¿è¯º

æœ¬è¡ŒåŠ¨è®¡åˆ’éµå®ˆä»¥ä¸‹**å†»ç»“åŒº**ï¼š

1. **ä¸æ”¹** `æƒ…ç»ªä¼˜å…ˆ` ä¸»é€»è¾‘
2. **ä¸æ”¹** `MSS/IRS/PAS + Validation` æ ¸å¿ƒè¯­ä¹‰
3. **ä¸æ”¹** `Spiral + CPï¼ˆCP-01~CP-10ï¼‰` ä¸»è·¯çº¿
4. **ä¸æ”¹** å·²ç»è¿‡ 31 è½®æ‰¹åˆ¤æ ¡æ­£çš„æ ¸å¿ƒè®¾è®¡æ–‡æ¡£

**å˜æ›´è¾¹ç•Œ**: ä»…é™ `è¿è¡Œå…¥å£`ã€`ç”Ÿæ€é€‚é…`ã€`è¯æ®äº§ç‰©` ä¸‰å±‚ã€‚

### 0.2 æ‰§è¡ŒèƒŒæ™¯

- **å½“å‰çŠ¶æ€**: S0 å¾…å¯åŠ¨ï¼Œå¼€å‘çŠ¶æ€ v3.1ï¼Œè®¾è®¡æ–‡æ¡£å…¨é‡é€šè¿‡ R1-R31 æ£€æŸ¥
- **å·²æœ‰åŸºçº¿**: Configã€BaseRepositoryã€entitiesã€models å‡ä¸ºå ä½ stub
- **æ²»ç†åŸºçº¿**: Spiral è·¯çº¿ + 6A å·¥ä½œæµ + æœ€å°åŒæ­¥å¥‘çº¦
- **å¯¹æ ‡æ¥æº**: 6 ä¸ªå¼€æº A è‚¡é‡åŒ–ç³»ç»Ÿï¼ˆvn.py, RQAlpha, AKShare, QUANTAXIS, czsc, easytraderï¼‰

---

## 1. å»ºè®®â†’Spiral æ˜ å°„è¡¨

æ‰¹åˆ¤å»ºè®®ä¸æ˜¯æ–°è·¯çº¿ï¼Œè€Œæ˜¯å¯¹ç°æœ‰ S0-S6 çš„**å·¥ç¨‹å¡«å……**ã€‚æ˜ å°„å…³ç³»ï¼š

| å»ºè®®ç¼–å· | å»ºè®®å†…å®¹ | æ˜ å°„ Spiral | é¢„è®¡å·¥æ—¶ | è¯´æ˜ |
|----------|----------|-------------|----------|------|
| **[1]** | `eq run --date` ä¸€é”®æœ€å°é—­ç¯ | **S0** | 2 å¤© | ç›´æ¥å°±æ˜¯ S0 é€€å‡ºè¯æ® |
| **[2]** | AKShare L1 æœ€å°é€‚é…å™¨ | **S0** | 2 å¤© | CP01-S1 å®é™…æ•°æ®æº |
| **[6]** | 10 å¤©å°æ ·æœ¬å›å½’åŒ… | **S0** | 1 å¤© | S0 å¯å¤ç°æµ‹è¯•åŸºç¡€ |
| **[8-ä¿®è®¢]** | å¤±è´¥äº§ç‰©åè®® | **S0** | 1 å¤© | error_manifest.json |
| **[7]** | L4 æŠ¥å‘Šå›ºå®šè§†å›¾ï¼ˆ3 å¼ å›¾ï¼‰ | **S1/S2** | 3 å¤© | æ¸©åº¦æ›²çº¿/æ¨èåˆ—è¡¨/è¡Œä¸šæƒé‡ |
| **[5-ä¿®è®¢]** | A/B/C å›æµ‹åŸºå‡†çœ‹æ¿ | **S2** | 3 å¤© | æƒ…ç»ª vs æŠ€æœ¯æŒ‡æ ‡å¯¹æ¯” |
| **[3]** | RQAlpha å›æµ‹æ¡¥ | **S3** | 3 å¤© | L3â†’å›æµ‹å¼•æ“â†’L4 |
| **[5-åŸç‰ˆ]** | pyproject.toml extras | **S3** | 0.5 å¤© | emotionquant[data/dev/bridge] |
| **[4]** | vn.py/easytrader è–„é€‚é…å£³ | **S4** | 3 å¤© | æ¨èâ†’ä¸‹å•æ˜ å°„ï¼Œå…ˆ mock |
| **[8-åŸç‰ˆ]** | Adapter åˆçº¦æ–‡æ¡£ | **è·¨ Spiral** | 0.5 å¤©/ä¸ª | å­—æ®µ/ç©ºå€¼/æšä¸¾æ˜ å°„è¡¨ |
| **[8-ä¿®è®¢]** | CP è„šæœ¬æ¨¡æ¿ | **è·¨ Spiral** | 1 å¤© | run/test/artifact/review/sync |

**æ€»è®¡**: 8 æ¡æ ¸å¿ƒå»ºè®®ï¼Œåˆ†è§£ä¸º 11 ä¸ªå¯è½åœ°åŠ¨ä½œã€‚

---

## 2. S0 è½åœ°è®¡åˆ’ï¼ˆæœ€ç´§æ€¥ï¼Œ7-10 å¤©ï¼‰

S0 æ˜¯å½“å‰ ROADMAP çš„**å”¯ä¸€å¾…å¯åŠ¨é¡¹**ï¼Œä¹Ÿæ˜¯æœ€ç´§æ€¥é¡¹ã€‚æŒ‰å¤©æ‹†åˆ†å¦‚ä¸‹ï¼š

### D1-D2: è„šæ‰‹æ¶ + å°æ ·æœ¬åŒ…

**ç›®æ ‡**: å»ºç«‹å¯å¤ç°çš„æµ‹è¯•åŸºç¡€

**äº¤ä»˜ç‰©**:
- `.sample/eq-mini-20260120_20260131/` ç›®å½•
  - `raw_daily.parquet`ï¼ˆ10 ä¸ªäº¤æ˜“æ—¥ï¼Œçº¦ 5000+ è‚¡ç¥¨ Ã— 10 å¤©ï¼‰
  - `trade_calendar.parquet`ï¼ˆ2026-01-20 è‡³ 2026-01-31ï¼‰
  - `README.md`ï¼ˆæ•°æ®æ¥æºã€æ—¥æœŸèŒƒå›´ã€å­—æ®µè¯´æ˜ï¼‰
- `src/data/adapters/sample_adapter.py`
  - ä» `.sample/` è¯»å–æœ¬åœ°é™æ€æ•°æ®
  - è¿”å›æ ‡å‡† DataFrameï¼ˆå­—æ®µå¯¹é½ TuShare æ¥å£ï¼‰
- `tests/canary/test_sample_data.py`
  - éªŒè¯å°æ ·æœ¬æ–‡ä»¶å¯è¯»
  - éªŒè¯å­—æ®µå®Œæ•´æ€§ï¼ˆè‡³å°‘ OHLCV + ts_code + trade_dateï¼‰
- `pyproject.toml` æ›´æ–°
  - å¢åŠ  `[project.scripts]` å…¥å£: `eq = "src.pipeline.main:cli"`

**éªŒæ”¶æ ‡å‡†**:
- [ ] `.sample/` ç›®å½•å­˜åœ¨ä¸”æ•°æ®æ–‡ä»¶å¯è¯»
- [ ] `pytest tests/canary/test_sample_data.py` é€šè¿‡
- [ ] `pip install -e .` å `eq --version` å¯è¿è¡Œ

---

### D3-D4: `eq run` æœ€å°é—­ç¯

**ç›®æ ‡**: å®Œæˆ S0 æ ¸å¿ƒé€€å‡ºè¯æ®

**äº¤ä»˜ç‰©**:
- `src/pipeline/main.py` å®ç°
  - `cli()` å‡½æ•°ï¼šæ¥å— `--date YYYYMMDD` å‚æ•°
  - `run_pipeline(date, source)` å‡½æ•°ï¼šæ‰§è¡Œ L1â†’L2 æœ€å°é“¾è·¯
- L1â†’L2 æœ€å°é“¾è·¯
  - è¯» sample æ•°æ®ï¼ˆæˆ– AKShare æ•°æ®ï¼‰
  - å†™ Parquet åˆ° `{DATA_PATH}/parquet/raw_daily/{year}/`
  - ç”Ÿæˆ `market_snapshot`ï¼ˆå­—æ®µï¼šdate, total_stocks, up_count, down_count, ...ï¼‰
- å¤±è´¥äº§ç‰©åè®®
  - å…³é”®æ­¥éª¤å¤±è´¥æ—¶è¾“å‡º `error_manifest.json`ï¼ˆåŒ…å« stepã€error_typeã€error_msgã€timestampï¼‰
  - è¾“å‡º `last_input_snapshot`ï¼ˆä¿å­˜å¤±è´¥å‰çš„è¾“å…¥æ•°æ®å¿«ç…§ï¼‰

**éªŒæ”¶æ ‡å‡†**:
- [ ] `eq run --date 20260131 --source sample` å¯è¿è¡Œ
- [ ] äº§å‡º `parquet/raw_daily/2026/*.parquet` æ–‡ä»¶
- [ ] äº§å‡º `snapshots/market_snapshot_20260131.json` æ–‡ä»¶
- [ ] å¤±è´¥åœºæ™¯äº§å‡º `error_manifest.json`

---

### D5-D6: AKShare L1 é€‚é…å™¨

**ç›®æ ‡**: æ¥å…¥çœŸå®æ•°æ®æº

**äº¤ä»˜ç‰©**:
- `src/data/adapters/akshare_adapter.py`
  - åªå®ç°æœ€å°å­—æ®µé›†ï¼šOHLCV + trade_calendar
  - ä¸¥æ ¼éµå®ˆã€Œå…ˆè½åº“å†å…¥ä¸»æµç¨‹ã€ï¼šfetch â†’ save_to_parquet â†’ åç»­ä»æœ¬åœ°è¯»
  - ç¼ºå£è¡¥é‡‡æœºåˆ¶ï¼šæ£€æµ‹æœ¬åœ°æ•°æ®ç¼ºå¤± â†’ è§¦å‘ç¦»çº¿è¡¥é‡‡
- `tests/unit/data/adapters/test_akshare_adapter.py`
  - mock AKShare API çš„å•å…ƒæµ‹è¯•
  - éªŒè¯å­—æ®µæ˜ å°„æ­£ç¡®æ€§
- `tests/integration/data/test_akshare_fetch.py`ï¼ˆå¯é€‰ï¼Œéœ€ç½‘ç»œï¼‰
  - çœŸå®è°ƒç”¨ AKShare APIï¼ˆä»… CI ç¯å¢ƒè¿è¡Œï¼‰
- `pyproject.toml` æ›´æ–°
  - `[project.optional-dependencies]` å¢åŠ  `data = ["akshare>=1.10.0"]`

**éªŒæ”¶æ ‡å‡†**:
- [ ] `eq run --date 20260131 --source akshare` å¯è¿è¡Œ
- [ ] å•å…ƒæµ‹è¯• mock é€šè¿‡
- [ ] æ•°æ®è·¯å¾„é€šè¿‡ç¯å¢ƒå˜é‡æ³¨å…¥ï¼ˆæ— ç¡¬ç¼–ç ï¼‰

---

### D7: å›å½’æµ‹è¯• + S0 æ”¶å£

**ç›®æ ‡**: S0 é—­ç¯äº”ä»¶å¥—äº§å‡º

**äº¤ä»˜ç‰©**:
- é‡‘ä¸é›€æµ‹è¯•å¥—ä»¶å®Œå–„
  - `pytest tests/canary/ -v` å…¨éƒ¨é€šè¿‡
  - è¦†ç›– sample å’Œ akshare ä¸¤æ¡è·¯å¾„
- S0 é—­ç¯äº”ä»¶å¥—
  - **run**: `eq run --date 20260131` å‘½ä»¤å¯æ‰§è¡Œ
  - **test**: `pytest tests/` å…¨éƒ¨é€šè¿‡
  - **artifact**: parquet + snapshot äº§ç‰©æ–‡ä»¶
  - **review**: `Governance/specs/spiral-s0/review.md`
  - **sync**: æ›´æ–° `Governance/record/*` ä¸‰ä¸ªæ–‡ä»¶
- åˆ†æ”¯åˆå¹¶
  - feature/s0-data-minimal-loop â†’ develop
  - æ¨é€åˆ°è¿œç«¯

**éªŒæ”¶æ ‡å‡†**:
- [ ] ä¸¤æ¡è·¯å¾„éƒ½å¯è·‘é€šï¼š`--source sample` å’Œ `--source akshare`
- [ ] S0 äº”ä»¶å¥—æ–‡æ¡£å®Œæ•´
- [ ] `development-status.md` æ›´æ–°ä¸º "S0 âœ… å·²å®Œæˆ"
- [ ] `reusable-assets.md` ç™»è®° S0 æ–°å¢èµ„äº§
- [ ] `debts.md` ç™»è®° S0 é—ç•™å€ºåŠ¡ï¼ˆå¦‚æœ‰ï¼‰

---

## 3. S1-S4 åç»­èŠ‚å¥

**S0 å®Œæˆåå†å¯åŠ¨**ï¼Œä¸æå‰å±•å¼€ã€‚

### S1ï¼ˆ7 å¤©ï¼‰: MSS é—­ç¯

**äº¤ä»˜ç‰©**:
- MSS å…­å› å­è®¡ç®—å®ç°ï¼ˆåŸºäº `docs/design/core-algorithms/mss/` å·²æ ¡æ­£è®¾è®¡ï¼‰
- æ¸©åº¦æ›²çº¿è§†å›¾ [å»ºè®®7 ç¬¬ 1 å¼ å›¾]
  - Plotly äº¤äº’å¼æ›²çº¿å›¾
  - å¯¼å‡ºåˆ° `.reports/mss_temperature_YYYYMMDD.html`

**éªŒæ”¶æ ‡å‡†**:
- [ ] `eq mss --date 20260131` å¯è¿è¡Œ
- [ ] æ¸©åº¦å€¼å¯è¿½æº¯åˆ°å…­å› å­è®¡ç®—è¿‡ç¨‹
- [ ] è§†å›¾æ–‡ä»¶å¯åœ¨æµè§ˆå™¨æ‰“å¼€

---

### S2ï¼ˆ10 å¤©ï¼‰: IRS/PAS/Integration é—­ç¯

**äº¤ä»˜ç‰©**:
- IRS/PAS/Integration å®ç°ï¼ˆåŸºäº `docs/design/core-algorithms/` å·²æ ¡æ­£è®¾è®¡ï¼‰
- æ¨èåˆ—è¡¨è§†å›¾ [å»ºè®®7 ç¬¬ 2 å¼ å›¾]
  - Top 20 æ¨èè‚¡ç¥¨åˆ—è¡¨
  - åŒ…å« MSS/IRS/PAS ä¸‰ç»´è¯„åˆ†
- è¡Œä¸šæƒé‡è§†å›¾ [å»ºè®®7 ç¬¬ 3 å¼ å›¾]
  - ç”³ä¸‡ 31 è¡Œä¸šæƒé‡åˆ†å¸ƒ
  - Plotly æŸ±çŠ¶å›¾ / é¥¼å›¾
- A/B/C å›æµ‹åŸºå‡†æ¡†æ¶ [å»ºè®®5-ä¿®è®¢]
  - **A ç»„**: æŠ€æœ¯æŒ‡æ ‡åŸºçº¿ï¼ˆMA/RSI ç­‰ï¼Œä»…å¯¹ç…§ï¼‰
  - **B ç»„**: æƒ…ç»ªä¸»ä¿¡å·ï¼ˆMSS+IRS+PASï¼‰
  - **C ç»„**: æƒ…ç»ª + Validation Gate
  - ç»Ÿä¸€è¾“å‡ºï¼šå¤æ™®ã€å›æ’¤ã€æ¢æ‰‹ã€èƒœç‡ã€äº¤æ˜“æ¬¡æ•°

**éªŒæ”¶æ ‡å‡†**:
- [ ] `eq recommend --date 20260131` å¯è¿è¡Œ
- [ ] ä¸‰å¼ è§†å›¾æ–‡ä»¶é½å…¨
- [ ] A/B/C å¯¹æ¯”æŠ¥å‘Šå¯ç”Ÿæˆ

---

### S3ï¼ˆ7 å¤©ï¼‰: å›æµ‹é—­ç¯

**äº¤ä»˜ç‰©**:
- RQAlpha å›æµ‹æ¡¥ [å»ºè®®3]
  - `src/backtest/adapters/rqalpha_adapter.py`
  - L3 æ¨èè¾“å‡º â†’ RQAlpha ç­–ç•¥è¾“å…¥æ˜ å°„
  - å›æµ‹ç»“æœ â†’ L4 æŒ‡æ ‡å­—æ®µæ˜ å°„
- pyproject.toml extras å®Œå–„ [å»ºè®®5-åŸç‰ˆ]
  - `emotionquant[data]` = akshare
  - `emotionquant[dev]` = pytest, black, flake8
  - `emotionquant[bridge]` = rqalpha, backtrader
- åŸºçº¿å›æµ‹æŠ¥å‘Š
  - å¯¼å‡ºåˆ° `.reports/backtest_baseline_YYYYMMDD.md`

**éªŒæ”¶æ ‡å‡†**:
- [ ] `eq backtest --start 20260120 --end 20260131` å¯è¿è¡Œ
- [ ] å›æµ‹æŒ‡æ ‡å®Œæ•´ï¼ˆæ”¶ç›Šç‡ã€å¤æ™®ã€æœ€å¤§å›æ’¤ç­‰ï¼‰
- [ ] æŠ¥å‘Šå¯è¯»ä¸”å¯è¿½æº¯

---

### S4ï¼ˆ7 å¤©ï¼‰: çº¸ä¸Šäº¤æ˜“é—­ç¯

**äº¤ä»˜ç‰©**:
- vn.py/easytrader è–„é€‚é…å£³ [å»ºè®®4]
  - `src/trading/adapters/vnpy_adapter.py`ï¼ˆæ¨èâ†’ä¸‹å•æ˜ å°„ï¼‰
  - `src/trading/adapters/easytrader_adapter.py`ï¼ˆåŒèŠ±é¡ºæ¨¡æ‹Ÿï¼‰
  - å…ˆ mock/paperï¼ŒçœŸå®é€šé“åæŒ‚
- è®¢å•/æŒä»“/é£æ§æ—¥å¿—
  - å¯é‡æ”¾çš„ JSON æ—¥å¿—æ–‡ä»¶

**éªŒæ”¶æ ‡å‡†**:
- [ ] `eq trade --mode paper --date 20260131` å¯è¿è¡Œï¼ˆçº¸ä¸Šäº¤æ˜“ï¼‰
- [ ] è®¢å•æ—¥å¿—å¯æ£€æŸ¥
- [ ] æŒä»“çŠ¶æ€å¯æŸ¥è¯¢

---

## 4. è·¨ Spiral äº¤ä»˜ç‰©

### 4.1 Adapter åˆçº¦æ–‡æ¡£ [å»ºè®®8-åŸç‰ˆ]

æ¯ä¸ªé€‚é…å™¨å®Œæˆæ—¶ï¼ŒåŒæ­¥äº§å‡ºåˆçº¦æ–‡æ¡£ï¼š

| é€‚é…å™¨ | æ–‡æ¡£è·¯å¾„ | å†…å®¹ |
|--------|----------|------|
| sample_adapter | `docs/adapters/sample_adapter.md` | å­—æ®µæ˜ å°„è¡¨ã€ç©ºå€¼å¤„ç†ã€ä½¿ç”¨ç¤ºä¾‹ |
| akshare_adapter | `docs/adapters/akshare_adapter.md` | TuShareâ†’AKShare å­—æ®µæ˜ å°„ |
| rqalpha_adapter | `docs/adapters/rqalpha_adapter.md` | L3â†’RQAlpha ç­–ç•¥æ˜ å°„ |
| vnpy_adapter | `docs/adapters/vnpy_adapter.md` | æ¨èâ†’vn.py è®¢å•æ˜ å°„ |

**æ ¼å¼è¦æ±‚**:
- å­—æ®µæ˜ å°„è¡¨ï¼ˆæºå­—æ®µ â†’ ç›®æ ‡å­—æ®µ â†’ è½¬æ¢è§„åˆ™ï¼‰
- ç©ºå€¼/ç¼ºå¤±å¤„ç†ç­–ç•¥
- æšä¸¾å€¼æ˜ å°„è¡¨ï¼ˆå¦‚æœ‰ï¼‰
- ä½¿ç”¨ç¤ºä¾‹ä»£ç 

---

### 4.2 CP è„šæœ¬æ¨¡æ¿ [å»ºè®®8-ä¿®è®¢]

æä¾›æ ‡å‡†åŒ–è„šæœ¬æ¨¡æ¿ï¼Œæ‰€æœ‰ Spiral å¤ç”¨ï¼š

| è„šæœ¬ | è·¯å¾„ | ç”¨é€” |
|------|------|------|
| run | `scripts/templates/run.sh` | è¿è¡Œä¸»æµç¨‹ |
| test | `scripts/templates/test.sh` | æ‰§è¡Œæµ‹è¯•å¥—ä»¶ |
| artifact | `scripts/templates/artifact.sh` | äº§ç‰©æ”¶é›†ä¸æ‰“åŒ… |
| review | `scripts/templates/review.sh` | ç”Ÿæˆ review.md |
| sync | `scripts/templates/sync.sh` | åŒæ­¥ record/ æ–‡ä»¶ |

**ç¤ºä¾‹ï¼ˆrun.shï¼‰**:
```bash
#!/bin/bash
# Usage: ./run.sh --date 20260131 --source sample
set -e
source .env
python -m src.pipeline.main "$@"
```

---

## 5. ä¸åšçš„äº‹ï¼ˆæ˜ç¡®æ’é™¤ï¼‰

ä»¥ä¸‹äº‹é¡¹**æ˜ç¡®æ’é™¤**ï¼Œä¸åœ¨æœ¬è®¡åˆ’èŒƒå›´å†…ï¼š

| æ’é™¤é¡¹ | ç†ç”± |
|--------|------|
| æ”¹æ ¸å¿ƒç®—æ³•é€»è¾‘ | å·²ç»è¿‡ 31 è½®æ‰¹åˆ¤æ ¡æ­£ï¼Œå†»ç»“åŒº |
| æ”¹æ•°æ®æ¨¡å‹/API/ä¿¡æ¯æµå®šä¹‰ | è®¾è®¡æ–‡æ¡£å·²æ ¡æ­£ï¼Œå†»ç»“åŒº |
| åš GUI é‡å‰ç«¯ | L4 è§†å›¾ç”¨ Plotly/Markdown å³å¯ï¼Œä¸éœ€è¦ React/Vue |
| åšå®Œæ•´é£æ§é—­ç¯ | S4 åªåšè–„é€‚é…å£³ï¼ŒçœŸå®é£æ§åœ¨å®ç›˜é˜¶æ®µ |
| S0 æœŸé—´ç¢° S1+ å®ç° | ä¿æŒ Spiral ä¸²è¡Œï¼Œé¿å…å¹¶è¡Œæ‰©å¼  |

---

## 6. æ‰§è¡Œæ£€æŸ¥ç‚¹

### 6.1 S0 é‡Œç¨‹ç¢‘æ£€æŸ¥ç‚¹

| æ£€æŸ¥ç‚¹ | æ—¶é—´ | æ£€æŸ¥å†…å®¹ | é€šè¿‡æ ‡å‡† |
|--------|------|----------|----------|
| CP1 | D2 | å°æ ·æœ¬åŒ…å°±ç»ª | `pytest tests/canary/` é€šè¿‡ |
| CP2 | D4 | `eq run` å¯è¿è¡Œ | äº§å‡º parquet + snapshot |
| CP3 | D6 | AKShare å¯ç”¨ | ä¸¤æ¡è·¯å¾„éƒ½å¯è·‘é€š |
| CP4 | D7 | S0 æ”¶å£ | äº”ä»¶å¥—é½å…¨ + åˆå¹¶ develop |

### 6.2 è´¨é‡é—¨æ§

| é—¨æ§ | æ£€æŸ¥é¡¹ | å·¥å…· |
|------|--------|------|
| é›¶å®¹å¿ | è·¯å¾„ç¡¬ç¼–ç  | `grep -r "G:\\\\" src/` |
| é›¶å®¹å¿ | æŠ€æœ¯æŒ‡æ ‡è¯¯ç”¨ | pre-commit hook |
| è­¦å‘Š | TODO/HACK/FIXME | åˆå¹¶å‰æ¸…ç†æˆ–ç™»è®°å€ºåŠ¡ |
| åˆ†çº§ | TDD è¦†ç›–ç‡ | `pytest --cov=src --cov-report=term` |

---

## 7. èµ„æºéœ€æ±‚

### 7.1 äººåŠ›

- **ä¸ªäººå¼€å‘**: é€‚åˆ 1 äººæ‰§è¡Œ
- **é¢„è®¡æ€»å·¥æ—¶**: S0 çº¦ 7-10 å¤©ï¼ŒS1-S4 çº¦ 31 å¤©ï¼Œæ€»è®¡ 38-41 å¤©

### 7.2 ä¾èµ–

- **Python 3.10+**
- **TuShare Token**ï¼ˆæˆ– AKShare å…è´¹ APIï¼‰
- **å¼€å‘ç¯å¢ƒ**: Git, pytest, black, flake8
- **å¯é€‰ä¾èµ–**: RQAlpha, vn.py, easytrader

---

## 8. é£é™©ä¸ç¼“è§£

| é£é™© | æ¦‚ç‡ | å½±å“ | ç¼“è§£æªæ–½ |
|------|------|------|----------|
| TuShare é™æµ | ä¸­ | é«˜ | ä½¿ç”¨ AKShare å¤‡é€‰ |
| å°æ ·æœ¬æ•°æ®è¿‡æ—¶ | ä½ | ä¸­ | å®šæœŸæ›´æ–° `.sample/` |
| ç¬¬ä¸‰æ–¹åº“æ¥å£å˜æ›´ | ä¸­ | ä¸­ | é”å®šç‰ˆæœ¬å· + é€‚é…å™¨éš”ç¦» |
| S0 å·¥æ—¶æº¢å‡º | ä¸­ | ä½ | ä¼˜å…ˆç¼©åœˆï¼Œå»¶åéæ ¸å¿ƒåŠŸèƒ½ |

---

## 9. ä¸‹ä¸€æ­¥è¡ŒåŠ¨ï¼ˆç«‹å³å¯æ‰§è¡Œï¼‰

**ç¬¬ä¸€æ­¥**: å¯åŠ¨ S0 A1 Align

```bash
# 1. ç¡®ä¿åœ¨ develop åˆ†æ”¯
git checkout develop
git pull origin develop

# 2. åˆ›å»º feature åˆ†æ”¯
git checkout -b feature/s0-data-minimal-loop

# 3. åˆ›å»º S0 spec ç›®å½•
mkdir -p Governance/specs/spiral-s0

# 4. åˆ›å»º A1 requirements.mdï¼ˆ6A å·¥ä½œæµç¬¬ä¸€æ­¥ï¼‰
# ï¼ˆå†…å®¹åŒ…æ‹¬ï¼šS0 ç›®æ ‡ã€è¾“å…¥ä¾èµ–ã€è¾“å‡ºäº¤ä»˜ã€é¡¹ç›®è®°å½•å¿«ç…§ï¼‰
```

**ç¬¬äºŒæ­¥**: è¯»å–é¡¹ç›®è®°å½•ï¼ˆA1 å¼ºåˆ¶æ­¥éª¤ï¼‰

- è¯»å– `Governance/record/development-status.md`ï¼ˆå½“å‰ S0 å¾…å¯åŠ¨ï¼‰
- è¯»å– `Governance/record/reusable-assets.md`ï¼ˆè¯†åˆ«å¯ç»§æ‰¿èµ„äº§ï¼‰
- è¯»å– `Governance/record/debts.md`ï¼ˆç¡®è®¤æ—  P0/P1 é˜»å¡ï¼‰

**ç¬¬ä¸‰æ­¥**: ç¼–å†™ A1 requirements.md

åŒ…å«ä»¥ä¸‹ç« èŠ‚ï¼š
- ç›®æ ‡ï¼šS0 æ•°æ®æœ€å°é—­ç¯
- è¾“å…¥ä¾èµ–ï¼šTuShare/AKShare API, äº¤æ˜“æ—¥å†
- è¾“å‡ºäº¤ä»˜ï¼šraw_daily parquet, market_snapshot
- é¡¹ç›®è®°å½•å¿«ç…§ï¼šå½“å‰çŠ¶æ€ã€æ‹Ÿå¤ç”¨èµ„äº§ã€ç›¸å…³å€ºåŠ¡
- ä¸ç¡®å®šæ€§ï¼šï¼ˆå¦‚æœ‰ P0 é—®é¢˜éœ€æš´éœ²ï¼‰

---

## 10. æˆåŠŸæ ‡å‡†

**S0 æˆåŠŸæ ‡å‡†**:
- [ ] `eq run --date 20260131 --source sample` å¯è¿è¡Œ
- [ ] `eq run --date 20260131 --source akshare` å¯è¿è¡Œ
- [ ] `pytest tests/` å…¨éƒ¨é€šè¿‡
- [ ] äº”ä»¶å¥—æ–‡æ¡£é½å…¨
- [ ] feature åˆ†æ”¯åˆå¹¶åˆ° develop

**æ•´ä½“æˆåŠŸæ ‡å‡†**ï¼ˆS0-S4 å…¨éƒ¨å®Œæˆï¼‰:
- [ ] æ¯ä¸ª Spiral éƒ½æœ‰é—­ç¯è¯æ®
- [ ] 8 æ¡æ‰¹åˆ¤å»ºè®®å…¨éƒ¨è½åœ°
- [ ] æ—  P0/P1 æŠ€æœ¯å€ºé—ç•™
- [ ] `Governance/record/*` ä¿æŒæœ€æ–°

---

## 11. ç½²åä¸ç‰ˆæƒ

**æŠ¥å‘Šç½²å**: Claude (Anthropic)  
**ç”Ÿæˆæ—¶é—´**: 2026-02-09 23:39:29  
**åä½œè§’è‰²**: EmotionQuant é¡¹ç›®æ‰§è¡ŒåŠ©æ‰‹  
**æˆæƒèŒƒå›´**: EmotionQuant é¡¹ç›®å†…éƒ¨ä½¿ç”¨

**å…³è”æ–‡æ¡£**:
- è¾“å…¥: `.reports/å¯¹æ ‡å¼€æºAè‚¡é‡åŒ–ç³»ç»Ÿæ‰¹åˆ¤_ä¿®è®¢ç‰ˆ_20260209.md`
- è¾“å…¥: `.reports/å¯¹æ ‡å¼€æºAè‚¡é‡åŒ–ç³»ç»Ÿæ‰¹åˆ¤_20260209_150147.md`
- è¾“å‡º: æœ¬è¡ŒåŠ¨è®¡åˆ’
- åç»­: `Governance/specs/spiral-s0/requirements.md`ï¼ˆA1 äº§ç‰©ï¼‰

---

## 12. é™„å½•ï¼š8 æ¡å»ºè®®å¯¹ç…§è¡¨

| ç¼–å· | åŸå§‹å»ºè®® | æ‰§è¡Œ Spiral | çŠ¶æ€ |
|------|----------|-------------|------|
| [1] | `eq run` ä¸€é”®é—­ç¯ | S0 | ğŸš§ å¾…å¯åŠ¨ |
| [2] | AKShare é€‚é…å™¨ | S0 | ğŸš§ å¾…å¯åŠ¨ |
| [3] | RQAlpha å›æµ‹æ¡¥ | S3 | ğŸ“‹ æœªå¼€å§‹ |
| [4] | vn.py/easytrader å£³ | S4 | ğŸ“‹ æœªå¼€å§‹ |
| [5] | pyproject.toml extras | S3 | ğŸ“‹ æœªå¼€å§‹ |
| [5-ä¿®è®¢] | A/B/C å›æµ‹çœ‹æ¿ | S2 | ğŸ“‹ æœªå¼€å§‹ |
| [6] | 10 å¤©å°æ ·æœ¬åŒ… | S0 | ğŸš§ å¾…å¯åŠ¨ |
| [7] | L4 å›ºå®šè§†å›¾ 3 å¼  | S1/S2 | ğŸ“‹ æœªå¼€å§‹ |
| [8] | Adapter åˆçº¦æ–‡æ¡£ | è·¨ Spiral | ğŸ“‹ æœªå¼€å§‹ |
| [8-ä¿®è®¢] | CP è„šæœ¬æ¨¡æ¿ | è·¨ Spiral | ğŸ“‹ æœªå¼€å§‹ |
| [8-ä¿®è®¢] | å¤±è´¥äº§ç‰©åè®® | S0 | ğŸš§ å¾…å¯åŠ¨ |

---

**æŠ¥å‘Šç»“æŸ**
